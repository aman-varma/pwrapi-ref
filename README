The Power API prototype is a work in progress. It is being used to test
concepts and it: 
1) does not provide complete coverage of the Power API, 
2) has not been tested beyond the examples,
3) has been compiled/tested on a limited number of Operating Systems, and
4) takes liberties with respect to coding. 


Sorce code directory structure:
  pow      - contains the Power API library
  plugins  - contains plugins used by the Power API library, these plugins
		     access devices on the platfrom 
  examples - contains applications that execise the Power API
  daemon   - contains a server used for remote access of Power API

Building:
The Power API library uses an XML file to contain the system description and it
uses TinyXml to parse the XML file. You will need to download TinyXml and place
it in a top level directory 'tinyxml'. Next run 'make' in the plugins, pow and
the examples directory.

Running:
The example directory contains applications that use the Power API and run 
scripts that configure enviroment variables and launch the corresponding app.

The dummyTest exercises the dummmy_dev plugin.  It should run on any platform
given it does not access hardware.
 
s971371:prototype mjleven$ cd examples/
s971371:examples mjleven$ ./run_dummy.sh 

  Copyright 2014 Sandia Corporation. Under the terms of Contract
  DE-AC04-94AL85000, there is a non-exclusive license for use of this work
  by or on behalf of the U.S. Government. Export of this program may require
  a license from the United States Government.

location=``
root=`plat.cab0.board0.node0`
standAlone=yes
I'm a `Node`
child plat.cab0.board0.node0.socket0
DummyDev:dummy_dev_open():57: `core0`
DummyDev:dummy_dev_read():76: type=Power 10.123400
DummyDev:dummy_dev_open():57: `core1`
DummyDev:dummy_dev_read():76: type=Power 10.123400
PWR_ObjAttrGetValue(PWR_ATTR_POWER) value=20.246800 ts=`Thu Oct 23 12:14:12 2014`
PWR_ObjAttrSetValue(PWR_ATTR_POWER) value=25.812000
DummyDev:dummy_dev_write():88: type=Power 25.812000
DummyDev:dummy_dev_write():88: type=Power 25.812000
DummyDev:dummy_dev_readv():102: type=Power 25.812000
DummyDev:dummy_dev_readv():102: type=Power 25.812000
PWR_ObjAttrGetValues(PWR_ATTR_POWER) value=51.624000 ts=`Thu Oct 23 12:14:12 2014`
PWR_ObjAttrSetValues(PWR_ATTR_POWER) value=100.100000
DummyDev:dummy_dev_writev():114: num attributes 1
DummyDev:dummy_dev_writev():116: type=Power 100.100000
DummyDev:dummy_dev_writev():114: num attributes 1
DummyDev:dummy_dev_writev():116: type=Power 100.100000
DummyDev:dummy_dev_read():76: type=Power 100.100000
DummyDev:dummy_dev_read():76: type=Power 100.100000
PWR_ObjAttrGetValue(PWR_ATTR_POWER) value=200.200000 ts=`Thu Oct 23 12:14:12 2014`
PWR_GrpAttrSetValue(PWR_ATTR_POWER) value=0.100000
DummyDev:dummy_dev_write():88: type=Power 0.100000
DummyDev:dummy_dev_write():88: type=Power 0.100000
DummyDev:dummy_dev_read():76: type=Power 0.100000
DummyDev:dummy_dev_read():76: type=Power 0.100000
PWR_ObjAttrGetValue(PWR_ATTR_POWER) value=0.200000 ts=`Thu Oct 23 12:14:12 2014`
DummyDev:dummy_dev_stat_start():142: 
DummyDev:dummy_dev_stat_get():161: 
PWR_StatGetValue(PWR_ATTR_POWER) value=0.010000
PWR_StatGetValue(PWR_ATTR_POWER) start=1414088052516238080
PWR_StatGetValue(PWR_ATTR_POWER) stop=1414088052516261120
DummyDev:dummy_dev_final():192: 
DummyDev:dummy_dev_final():192: 
s971371:examples mjleven$ 

